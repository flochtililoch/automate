{
  "name": "commonjs-everywhere",
  "version": "0.9.5",
  "description": "CommonJS browser bundler with aliasing, extensibility, and source maps from the minified JS bundle",
  "homepage": "https://github.com/michaelficarra/commonjs-everywhere",
  "keywords": [
    "CommonJS",
    "CommonJS Everywhere",
    "browser",
    "build",
    "bundle",
    "cjsify",
    "browserify",
    "dependency resolution"
  ],
  "author": {
    "name": "Michael Ficarra",
    "email": "git@michael.ficarra.me"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/michaelficarra/commonjs-everywhere.git"
  },
  "bugs": "https://github.com/michaelficarra/commonjs-everywhere/issues",
  "engines": {
    "node": "0.8.x || 0.9.x || 0.10.x"
  },
  "main": "lib/module",
  "directories": {
    "bin": "bin",
    "lib": "lib",
    "test": "test"
  },
  "dependencies": {
    "Base64": "~0.1.2",
    "coffee-script-redux": "2.0.0-beta7",
    "escodegen": "~0.0.24",
    "esmangle": "~0.0.10",
    "esprima": "1.x.x",
    "estraverse": "1.3.x",
    "MD5": "~1.2",
    "mktemp": "0.3.x",
    "nopt": "~2.1.2",
    "resolve": "0.6.x",
    "buffer-browserify": "*",
    "constants-browserify": ">= 0.0.1",
    "crypto-browserify": "*",
    "events-browserify": "*",
    "http-browserify": "*",
    "punycode": "*",
    "querystring": "*",
    "vm-browserify": "*",
    "zlib-browserify": "*"
  },
  "devDependencies": {
    "coffee-script-redux": "2.0.0-beta8",
    "mocha": "~1.14.0",
    "scopedfs": "~0.1.0",
    "semver": "~2.2.1"
  },
  "scripts": {
    "test": "make test"
  },
  "licenses": [
    {
      "type": "BSD",
      "url": "https://github.com/michaelficarra/commonjs-everywhere/blob/master/LICENSE"
    }
  ],
  "bin": {
    "cjsify": "bin/cjsify"
  },
  "readme": "# CommonJS Everywhere\n\nCommonJS (node module) browser bundler with source maps from the minified JS bundle to the original source, aliasing for browser overrides, and extensibility for arbitrary compile-to-JS language support.\n\n## Install\n\n    npm install -g commonjs-everywhere\n\n## Usage\n\n### CLI\n\n    $ bin/cjsify --help\n\n      Usage: cjsify OPT* path/to/entry-file.ext OPT*\n\n      -a, --alias ALIAS:TO      replace requires of file identified by ALIAS with TO\n      -h, --handler EXT:MODULE  handle files with extension EXT with module MODULE\n      -m, --minify              minify output\n      -o, --output FILE         output to FILE instead of stdout\n      -r, --root DIR            unqualified requires are relative to DIR; default: cwd\n      -s, --source-map FILE     output a source map to FILE\n      -v, --verbose             verbose output sent to stderr\n      -w, --watch               watch input files/dependencies for changes and rebuild bundle\n      -x, --export NAME         export the given entry module as NAME\n      --deps                    do not bundle; just list the files that would be bundled\n      --help                    display this help message and exit\n      --ignore-missing          continue without error when dependency resolution fails\n      --inline-source-map       include the source map as a data URI in the generated bundle\n      --inline-sources          include source content in generated source maps; default: on\n      --node                    include process object; emulate node environment; default: on\n      --version                 display the version number and exit\n\n*Note:* use `-` as an entry file to accept JavaScript over stdin\n\n*Note:* to disable an option, prefix it with `no-`, e.g. `--no-node`\n\n#### Example:\n\nCommon usage\n\n```bash\ncjsify src/entry-file.js --export MyLibrary --source-map my-library.js.map >my-library.js\n```\n\nWatch entry file, its dependencies, and even newly added dependencies. Notice that only the files that need to be rebuilt are accessed when one of the watched dependencies are touched. This is a much more efficient approach than simply rebuilding everything.\n\n```bash\ncjsify -wo my-library.js -x MyLibrary src/entry-file.js\n```\n\nUse a browser-specific version of `/lib/node-compatible.js` (remember to use `root`-relative paths for aliasing). An empty alias target is used to delay errors to runtime when requiring the source module (`fs` in this case).\n\n```bash\ncjsify -a /lib/node-compatible.js:/lib/browser-compatible.js -a fs: -x MyLibrary lib/entry-file.js\n```\n\n### Module Interface\n\n#### `cjsify(entryPoint, root, options)` â†’ Spidermonkey AST\nBundles the given file and its dependencies; returns a Spidermonkey AST representation of the bundle. Run the AST through `escodegen` to generate JS code.\n\n* `entryPoint` is a file relative to `process.cwd()` that will be the initial module marked for inclusion in the bundle as well as the exported module\n* `root` is the directory to which unqualified requires are relative; defaults to `process.cwd()`\n* `options` is an optional object (defaulting to `{}`) with zero or more of the following properties\n    * `export`: a variable name to add to the global scope; assigned the exported object from the `entryPoint` module. Any valid [Left-Hand-Side Expression](http://es5.github.com/#x11.2) may be given instead.\n    * `aliases`: an object whose keys and values are `root`-rooted paths (`/src/file.js`), representing values that will replace requires that resolve to the associated keys\n    * `handlers`: an object whose keys are file extensions (`'.roy'`) and whose values are functions from the file contents to either a Spidermonkey-format JS AST like the one esprima produces or a string of JS. Handlers for CoffeeScript and JSON are included by default. If no handler is defined for a file extension, it is assumed to be JavaScript.\n    * `node`: a falsey value causes the bundling phase to omit the `process` stub that emulates a node environment\n    * `verbose`: log additional operational information to stderr\n    * `ignoreMissing`: continue without error when dependency resolution fails\n\n## Examples\n\n### CLI example\n\nSay we have the following directory tree:\n\n```\n* todos/\n  * components/\n    * users/\n      - model.coffee\n    * todos/\n      - index.coffee\n  * public/\n    * javascripts/\n```\nRunning the following command will export `index.coffee` and its dependencies as `App.Todos`.\n\n```\ncjsify -o public/javascripts/app.js -x App.Todos -r components components/todos/index.coffee\n```\n\nSince the above command specifies `components` as the root directory for unqualified requires, we are able to require `components/users/model.coffee` with `require 'users/model'`. The output file will be `public/javascripts/app.js`.\n\n### Node Module Example\n\n```coffee\njsAst = (require 'commonjs-everywhere').cjsify 'src/entry-file.coffee', __dirname,\n  export: 'MyLibrary'\n  aliases:\n    '/src/module-that-only-works-in-node.coffee': '/src/module-that-does-the-same-thing-in-the-browser.coffee'\n  handlers:\n    '.roy': (roySource, filename) ->\n      # the Roy compiler outputs JS code right now, so we parse it with esprima\n      (require 'esprima').parse (require 'roy').compile roySource, {filename}\n\n{map, code} = (require 'escodegen').generate jsAst,\n  sourceMapRoot: __dirname\n  sourceMapWithCode: true\n  sourceMap: true\n```\n\n### Sample Output\n\n![](http://i.imgur.com/oDcQh8H.png)\n",
  "readmeFilename": "README.md",
  "_id": "commonjs-everywhere@0.9.5",
  "_from": "commonjs-everywhere@0.9.x"
}
